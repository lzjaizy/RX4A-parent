<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.rx.authPlat.tenant.dao.TenantMapper">

    <insert id="addTenant" useGeneratedKeys="true" keyProperty="id" keyColumn="id" parameterType="com.rx.authPlat.tenant.entity.Tenant">
        insert into t_tenant
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="name != null">
                name,
            </if>
            <if test="code != null">
                code,
            </if>
            <if test="abbreviation != null">
                abbreviation,
            </if>
            <if test="tenantLevel != null">
                tenant_level,
            </if>
            <if test="maxLimit != null">
                max_limit,
            </if>
            <if test="contactPerson != null">
                contact_person,
            </if>
            <if test="address != null">
                address,
            </if>
            <if test="contactPhone != null">
                contact_phone,
            </if>
            <if test="email != null">
                email,
            </if>
            <if test="effectiveTime != null">
                effective_time,
            </if>
            <if test="expirationTime != null">
                expiration_time,
            </if>
            <if test="maxUserNumber != null">
                max_user_number,
            </if>
            <if test="domainName != null">
                domain_name,
            </if>
            <if test="logoUrl != null">
                logo_url,
            </if>
            <if test="backgroudUrl != null">
                backgroud_url,
            </if>
            <if test="showName != null">
                show_name,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="comments != null">
                comments,
            </if>
            <if test="showOrder != null">
                show_order,
            </if>
            <if test="createUser != null">
                create_user,
            </if>
            <if test="modifyUser != null">
                modify_user,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="modifyTime != null">
                modify_time,
            </if>
            <if test="isDel != null">
                is_del,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">

            <if test="id != null">
                #{id,jdbcType=VARCHAR},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="code != null">
                #{code,jdbcType=VARCHAR},
            </if>
            <if test="abbreviation != null">
                #{abbreviation,jdbcType=VARCHAR},
            </if>
            <if test="tenantLevel != null">
                #{tenantLevel,jdbcType=VARCHAR},
            </if>
            <if test="maxLimit != null">
                #{maxLimit,jdbcType=INTEGER},
            </if>
            <if test="contactPerson != null">
                #{contactPerson,jdbcType=VARCHAR},
            </if>
            <if test="address != null">
                #{address,jdbcType=VARCHAR},
            </if>
            <if test="contactPhone != null">
                #{contactPhone,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                #{email,jdbcType=VARCHAR},
            </if>
            <if test="effectiveTime != null">
                #{effectiveTime,jdbcType=TIMESTAMP},
            </if>
            <if test="expirationTime != null">
                #{expirationTime,jdbcType=TIMESTAMP},
            </if>
            <if test="maxUserNumber != null">
                #{maxUserNumber,jdbcType=INTEGER},
            </if>
            <if test="domainName != null">
                #{domainName,jdbcType=VARCHAR},
            </if>
            <if test="logoUrl != null">
                #{logoUrl,jdbcType=VARCHAR},
            </if>
            <if test="backgroudUrl != null">
                #{backgroudUrl,jdbcType=VARCHAR},
            </if>
            <if test="showName != null">
                #{showName,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                #{status,jdbcType=INTEGER},
            </if>
            <if test="comments != null">
                #{comments,jdbcType=VARCHAR},
            </if>
            <if test="showOrder != null">
                #{showOrder,jdbcType=BIGINT},
            </if>
            <if test="createUser != null">
                #{createUser,jdbcType=VARCHAR},
            </if>
            <if test="modifyUser != null">
                #{modifyUser,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifyTime != null">
                #{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="isDel != null">
                #{isDel,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>

    <update id="updateTenant" parameterType="com.rx.authPlat.tenant.entity.Tenant">
        update t_tenant
        <set>


            <if test="abbreviation != null">
                abbreviation= #{abbreviation,jdbcType=VARCHAR},
            </if>
            <if test="tenantLevel != null">
                tenant_level=#{tenantLevel,jdbcType=VARCHAR},
            </if>

            <if test="contactPerson != null">
                contact_person=#{contactPerson,jdbcType=VARCHAR},
            </if>
            <if test="address != null">
                address= #{address,jdbcType=VARCHAR},
            </if>
            <if test="contactPhone != null">
                contact_phone= #{contactPhone,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                email=#{email,jdbcType=VARCHAR},
            </if>
            <if test="effectiveTime != null">
                #{effectiveTime,jdbcType=TIMESTAMP},
            </if>
            <if test="expirationTime != null">
                effective_time=#{expirationTime,jdbcType=TIMESTAMP},
            </if>
            <if test="maxUserNumber != null">
                max_user_number=#{maxUserNumber,jdbcType=INTEGER},
            </if>
            <if test="domainName != null">
                domain_name= #{domainName,jdbcType=VARCHAR},
            </if>
            <if test="logoUrl != null">
                logo_url=#{logoUrl,jdbcType=VARCHAR},
            </if>
            <if test="backgroudUrl != null">
                backgroud_url=#{backgroudUrl,jdbcType=VARCHAR},
            </if>
            <if test="showName != null">
                show_name=#{showName,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                status=#{status,jdbcType=INTEGER},
            </if>
            <if test="comments != null">
                comments= #{comments,jdbcType=VARCHAR},
            </if>
            <if test="showOrder != null">
                show_order=#{showOrder,jdbcType=BIGINT},
            </if>
            <if test="createUser != null">
                create_user=#{createUser,jdbcType=VARCHAR},
            </if>
            <if test="modifyUser != null">
                modify_user=#{modifyUser,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                create_time=#{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifyTime != null">
                modify_time=#{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="isDel != null">
                is_del=#{isDel,jdbcType=INTEGER},
            </if>
        </set>
        where id = #{id,jdbcType=VARCHAR}
    </update>

    <select id="findTenantById" parameterType="java.lang.String"
            resultType="com.rx.authPlat.tenant.entity.Tenant">
        select
        *
        from t_tenant
        where
        id=#{id,jdbcType=VARCHAR}

    </select>

    <update id = "deleteTenantByIds" parameterType = "java.util.List">

        update t_tenant set is_del = 0 where id in

        <foreach item = "item" index = "index" collection = "list" open = "(" separator = "," close = ")">

            #{item}

        </foreach>

    </update>


    <delete id="deleteTenantById" parameterType="java.lang.String">
        update t_tenant set is_del=0 where id=#{id,jdbcType=VARCHAR}
    </delete>

    <select id="queryTenantsByCodeOrName" parameterType="java.lang.String"
            resultType="com.rx.authPlat.tenant.entity.Tenant">
        select
        *
        from t_tenant
        where
        1=1
        <if test="code != null">
            and code = #{code,jdbcType=VARCHAR}
        </if>
        <if test="name!= null">
            and name = #{name,jdbcType=VARCHAR}
        </if>
    </select>

</mapper>